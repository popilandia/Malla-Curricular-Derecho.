<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Curricular Interactiva</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5fbe6;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #6bae73;
    }
    .anio, .semestre {
      margin-top: 20px;
      padding: 10px;
      background-color: #b3c59e;
      border-radius: 5px;
    }
    .semestre {
      background-color: #9fbb7d;
    }
    .ramo {
      background-color: #e6f5d0;
      margin: 8px 0;
      padding: 10px;
      border-left: 6px solid #6bae73;
      border-radius: 4px;
    }
    .ramo.aprobado {
      text-decoration: line-through;
      opacity: 0.6;
      background-color: #d9f2c0;
    }
    .ramo input {
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <h1>游뿺 Malla Curricular Interactiva</h1>
  <div id="contenedor-malla"></div>

  <script src="data.js"></script>
  <script src="script.js"></script>
</body>
</html>
const mallaCurricular = {
  primerA침o: {
    primerSemestre: [
      {
        nombre: "Sistema Jur칤dico",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 7
      },
      {
        nombre: "Historia del Derecho",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Teor칤a Constitucional",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 7
      },
      {
        nombre: "Jurisdicci칩n",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Comunicaci칩n Oral y Escrita",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Educaci칩n F칤sica y Salud",
        tipo: "obligatorio",
        requisitos: [],
        creditos: null
      }
    ],
    segundoSemestre: [
      {
        nombre: "Razonamiento Jur칤dico",
        tipo: "obligatorio",
        requisitos: ["Sistema Jur칤dico"],
        creditos: 7
      },
      {
        nombre: "Historia del Derecho Chileno",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Conceptos Fundamentales de Derecho Privado",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Derecho Constitucional Org치nico",
        tipo: "obligatorio",
        requisitos: ["Teor칤a Constitucional"],
        creditos: 5
      },
      {
        nombre: "Introducci칩n a la Profesi칩n Jur칤dica",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      }
    ]
  },

  segundoA침o: {
    tercerSemestre: [
      {
        nombre: "Teor칤a de la Justicia",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Acto Jur칤dico",
        tipo: "obligatorio",
        requisitos: ["Conceptos Fundamentales de Derecho Privado"],
        creditos: 5
      },
      {
        nombre: "An치lisis Jurisprudencial",
        tipo: "obligatorio",
        requisitos: ["Comunicaci칩n Oral y Escrita"],
        creditos: 2
      },
      {
        nombre: "Econom칤a",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Derechos Fundamentales",
        tipo: "obligatorio",
        requisitos: ["Teor칤a Constitucional"],
        creditos: 7
      },
      {
        nombre: "Proceso Civil Ordinario",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      }
    ],
    cuartoSemestre: [
      {
        nombre: "Bienes",
        tipo: "obligatorio",
        requisitos: ["Acto Jur칤dico"],
        creditos: 5
      },
      {
        nombre: "Taller de Resoluci칩n de Casos Pr치cticos",
        tipo: "obligatorio",
        requisitos: [],
        creditos: null
      },
      {
        nombre: "Derecho Internacional de los Derechos Humanos",
        tipo: "obligatorio",
        requisitos: ["Derechos Fundamentales"],
        creditos: 5
      },
      {
        nombre: "Derecho Econ칩mico",
        tipo: "obligatorio",
        requisitos: ["Econom칤a"],
        creditos: 5
      },
      {
        nombre: "Derecho Procesal Constitucional",
        tipo: "obligatorio",
        requisitos: ["Jurisdicci칩n"],
        creditos: 5
      },
      {
        nombre: "Derecho Probatorio",
        tipo: "obligatorio",
        requisitos: [],
        creditos: 5
      },
      {
        nombre: "Optativo de Formaci칩n General",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ]
  },

  tercerA침o: {
    quintoSemestre: [
      {
        nombre: "Derecho Societario",
        tipo: "obligatorio",
        requisitos: ["Conceptos Fundamentales de Derecho Privado"],
        creditos: 5
      },
      {
        nombre: "Obligaciones",
        tipo: "obligatorio",
        requisitos: ["Acto Jur칤dico"],
        creditos: 5
      },
      {
        nombre: "An치lisis Doctrinal",
        tipo: "obligatorio",
        requisitos: ["An치lisis Jurisprudencial"],
        creditos: 2
      },
      {
        nombre: "Introducci칩n al Derecho Penal",
        tipo: "obligatorio",
        requisitos: ["Derechos Fundamentales"],
        creditos: 5
      },
      {
        nombre: "Bases del Derecho Administrativo",
        tipo: "obligatorio",
        requisitos: ["Derecho Constitucional Org치nico"],
        creditos: 5
      },
      {
        nombre: "Procedimientos Especiales y Recursos Civiles",
        tipo: "obligatorio",
        requisitos: ["Proceso Civil Ordinario"],
        creditos: 5
      },
      {
        nombre: "Optativo de Formaci칩n Profesional I",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ],
    sextoSemestre: [
      {
        nombre: "Contratos",
        tipo: "obligatorio",
        requisitos: ["Acto Jur칤dico"],
        creditos: 5
      },
      {
        nombre: "Teor칤a del Delito, del Sujeto Responsable y de la Pena",
        tipo: "obligatorio",
        requisitos: ["Introducci칩n al Derecho Penal"],
        creditos: 5
      },
      {
        nombre: "Derecho Tributario",
        tipo: "obligatorio",
        requisitos: ["Bases del Derecho Administrativo"],
        creditos: 5
      },
      {
        nombre: "Control y Responsabilidad de la Administraci칩n",
        tipo: "obligatorio",
        requisitos: ["Bases del Derecho Administrativo"],
        creditos: 5
      },
      {
        nombre: "Regulaciones Ambientales y de Recursos Naturales",
        tipo: "obligatorio",
        requisitos: ["Bases del Derecho Administrativo"],
        creditos: 4
      },
      {
        nombre: "Redacci칩n de Instrumentos Administrativos",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      },
      {
        nombre: "Optativo de Formaci칩n Profesional II",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ]
  },

  cuartoA침o: {
    septimoSemestre: [
      {
        nombre: "Redacci칩n de Contratos",
        tipo: "obligatorio",
        requisitos: ["Comunicaci칩n Oral y Escrita", "Obligaciones"],
        creditos: 2
      },
      {
        nombre: "Derecho Individual del Trabajo",
        tipo: "obligatorio",
        requisitos: ["Acto Jur칤dico"],
        creditos: 5
      },
      {
        nombre: "Responsabilidad Civil",
        tipo: "obligatorio",
        requisitos: ["Obligaciones"],
        creditos: 5
      },
      {
        nombre: "Delitos",
        tipo: "obligatorio",
        requisitos: ["Teor칤a del Delito, del Sujeto Responsable y de la Pena"],
        creditos: 5
      },
      {
        nombre: "Mercados Regulados",
        tipo: "obligatorio",
        requisitos: ["Bases del Derecho Administrativo"],
        creditos: 4
      },
      {
        nombre: "Proceso Penal",
        tipo: "obligatorio",
        requisitos: ["Jurisdicci칩n", "Teor칤a del Delito, del Sujeto Responsable y de la Pena"],
        creditos: 5
      },
      {
        nombre: "Optativo de Formaci칩n Profesional III",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ],
    octavoSemestre: [
      {
        nombre: "Resoluci칩n de Conflictos del Trabajo",
        tipo: "obligatorio",
        requisitos: ["Proceso Civil Ordinario", "Derecho Individual del Trabajo"],
        creditos: 5
      },
      {
        nombre: "T칤tulos de Cr칠dito e Insolvencia",
        tipo: "obligatorio",
        requisitos: ["Obligaciones"],
        creditos: 5
      },
      {
        nombre: "Derecho y Procedimientos de Familia",
        tipo: "obligatorio",
        requisitos: ["Proceso Civil Ordinario", "Obligaciones"],
        creditos: 5
      },
      {
        nombre: "Derecho y Procedimientos de Consumo",
        tipo: "obligatorio",
        requisitos: ["Proceso Civil Ordinario", "Responsabilidad Civil"],
        creditos: 5
      },
      {
        nombre: "Informe Jur칤dico",
        tipo: "obligatorio",
        requisitos: ["An치lisis Doctrinal"],
        creditos: 2
      },
      {
        nombre: "Litigaci칩n Penal",
        tipo: "obligatorio",
        requisitos: ["Comunicaci칩n Oral y Escrita", "Delitos", "Proceso Penal"],
        creditos: 5
      },
      {
        nombre: "Optativo de Formaci칩n Profesional IV",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ]
  },

  quintoA침o: {
    novenoSemestre: [
      {
        nombre: "칄tica y Responsabilidad Profesional",
        tipo: "obligatorio",
        requisitos: ["Proceso Penal", "Responsabilidad Civil"],
        creditos: 5
      },
      {
        nombre: "Derecho Sucesorio",
        tipo: "obligatorio",
        requisitos: ["Bienes"],
        creditos: 5
      },
      {
        nombre: "Pasant칤a Profesional",
        tipo: "obligatorio",
        requisitos: [
          "Litigaci칩n Penal",
          "Resoluci칩n de Conflictos del Trabajo",
          "Derecho y Procedimientos de Familia",
          "Derecho y Procedimientos de Consumo"
        ],
        creditos: 10
      },
      {
        nombre: "Litigaci칩n Civil, de Familia y del Trabajo",
        tipo: "obligatorio",
        requisitos: [
          "Litigaci칩n Penal",
          "Resoluci칩n de Conflictos del Trabajo",
          "Derecho y Procedimientos de Familia"
        ],
        creditos: 5
      },
      {
        nombre: "Optativo de Formaci칩n Profesional V",
        tipo: "optativo",
        requisitos: [],
        creditos: null
      }
    ],
    decimoSemestre: [
      {
        nombre: "Examen de Licenciatura",
        tipo: "obligatorio",
        requisitos: ["Todas las asignaturas del 1춿 al 9춿 semestre"],
        creditos: 31
      }
    ]
  }
};
function crearRamoHTML(ramo, id) {
  const div = document.createElement("div");
  div.className = "ramo";

  const checkbox = document.createElement("input");
  checkbox.type = "checkbox";
  checkbox.id = id;
  checkbox.checked = localStorage.getItem(id) === "true";
  if (checkbox.checked) div.classList.add("aprobado");

  checkbox.addEventListener("change", () => {
    localStorage.setItem(id, checkbox.checked);
    div.classList.toggle("aprobado", checkbox.checked);
  });

  const etiqueta = document.createElement("label");
  etiqueta.htmlFor = id;
  etiqueta.innerHTML = `<strong>${ramo.nombre}</strong><br>
    游늷 Tipo: ${ramo.tipo} <br>
    游뿺 Requisitos: ${ramo.requisitos.length ? ramo.requisitos.join(", ") : "ninguno"} <br>
    游꿉 Cr칠ditos: ${ramo.creditos ?? "sin informaci칩n"}`;

  div.appendChild(checkbox);
  div.appendChild(etiqueta);
  return div;
}

function mostrarMalla(malla) {
  const contenedor = document.getElementById("contenedor-malla");
  Object.entries(malla).forEach(([anio, semestres]) => {
    const seccionAnio = document.createElement("div");
    seccionAnio.className = "anio";
    seccionAnio.innerHTML = `<h2>游닂 ${anio.replace(/([a-z])([A-Z])/g, '$1 $2')}</h2>`;

    Object.entries(semestres).forEach(([semestre, ramos]) => {
      const seccionSemestre = document.createElement("div");
      seccionSemestre.className = "semestre";
      seccionSemestre.innerHTML = `<h3>游닀 ${semestre.replace(/([a-z])([A-Z])/g, '$1 $2')}</h3>`;

      ramos.forEach((ramo, index) => {
        const id = `${anio}-${semestre}-${index}`;
        const ramoHTML = crearRamoHTML(ramo, id);
        seccionSemestre.appendChild(ramoHTML);
      });

      seccionAnio.appendChild(seccionSemestre);
    });

    contenedor.appendChild(seccionAnio);
  });
}

mostrarMalla(mallaCurricular);
